fpath=(~/dotfiles/zsh/jan "${fpath[@]}")
autoload -Uk strager_prompt_cwd

source $HOME/dotfiles/zsh/zsh_aliases
source ~/dotfiles/zsh/zsh-autosuggestions/zsh-autosuggestions.zsh

export EDITOR=vim
export HISTFILE=~/.zsh_history
export HISTFILESIZE=1000000
export HISTSIZE=1000000
export SAVEHIST=1000000
setopt INC_APPEND_HISTORY
setopt HIST_IGNORE_ALL_DUPS

# Command interpretation
setopt CHASE_DOTS
setopt INTERACTIVE_COMMENTS
setopt AUTOCD

# Keyboard bindings
# Credit Strager https://github.com/strager/dotfiles
bindkey '^I' menu-expand-or-complete

# => Prompt
# Credit Strager https://github.com/strager/dotfiles
setopt prompt_subst
PROMPT=
# Current directory.
PROMPT="${PROMPT}%F{green}\$(strager_prompt_cwd)%f"
# Exit code of previous command.
PROMPT="${PROMPT}%(0?;; %F{red}%?%f)"
# Terminator.
PROMPT="${PROMPT}$ "

# => Cursor
_fix_cursor() {
   echo -ne '\e[6 q'
}
precmd_functions+=(_fix_cursor)

# => Completion
unsetopt auto_remove_slash

# => ls
# Credit Strager https://github.com/strager/dotfiles
zstyle ':completion:*' menu select
zstyle ":completion:*:default" list-colors no=00 bd=33 cd=33 di=34 ex=31 ln=35 pi=33 so=32
export LS_COLORS=no=00:bd=33:cd=33:di=34:ex=31:ln=35:pi=33:so=32:

# => Syntax
# Credit to https://github.com/strager/dotfiles(Strager)
ZSH_HIGHLIGHT_HIGHLIGHTERS=(main)
typeset -A ZSH_HIGHLIGHT_STYLES
_command_style='fg=26'
_argument_style='fg=39'
_error_style='fg=red'
ZSH_HIGHLIGHT_STYLES[alias]="${_command_style}"
ZSH_HIGHLIGHT_STYLES[arg0]="${_command_style}"
ZSH_HIGHLIGHT_STYLES[builtin]="${_command_style}"
ZSH_HIGHLIGHT_STYLES[command]="${_command_style},underline"
ZSH_HIGHLIGHT_STYLES[comment]='fg=10'
ZSH_HIGHLIGHT_STYLES[default]="${_argument_style}"
ZSH_HIGHLIGHT_STYLES[dollar-quoted-argument-unclosed]="${_error_style}"
ZSH_HIGHLIGHT_STYLES[double-hypen-option]="${_argument_style}"
ZSH_HIGHLIGHT_STYLES[double-quoted-argument-unclosed]="${_error_style}"
ZSH_HIGHLIGHT_STYLES[function]="${_command_style}"
ZSH_HIGHLIGHT_STYLES[hashed-command]="${_command_style},underline"
ZSH_HIGHLIGHT_STYLES[path]="${_argument_style},underline"
ZSH_HIGHLIGHT_STYLES[precommand]="${_command_style}"
ZSH_HIGHLIGHT_STYLES[reserved-word]='fg=093'
ZSH_HIGHLIGHT_STYLES[single-hyphen-option]="${_argument_style}"
ZSH_HIGHLIGHT_STYLES[single-quoted-argument-unclosed]="${_error_style}"
# Automatic completion.
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=238'
source ~/dotfiles/zsh/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
